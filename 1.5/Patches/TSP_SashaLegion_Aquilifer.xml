<?xml version="1.0" encoding="utf-8"?>
<Patch>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="Roman_Standard"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs</xpath>
      <value>
        <PawnKindDef ParentName="RomePatrician">
          <defName>TSP_AR_Aquilifer</defName>
          <label>Aqulifer</label>
          <labelPlural>Aquiliferis</labelPlural>
          <defaultFactionType>AR_Faction_Rome</defaultFactionType>
          <minGenerationAge>30</minGenerationAge>
          <maxGenerationAge>45</maxGenerationAge>
          <isFighter>true</isFighter>
          <!-- <fixedGender>Male</fixedGender> -->
          <itemQuality>Legendary</itemQuality>
          <apparelAllowHeadgearChance>1</apparelAllowHeadgearChance>
          <backstoryCryptosleepCommonality>0.04</backstoryCryptosleepCommonality>
          <backstoryFiltersOverride MayRequire="shavius.classical.flavour" Inherit="False">
            <li MayRequire="shavius.classical.flavour">
              <categoriesAdulthood MayRequire="shavius.classical.flavour">
                <li MayRequire="shavius.classical.flavour">ClassicalLegion</li>
              </categoriesAdulthood>
            </li>
          </backstoryFiltersOverride>
          <requiredWorkTags>
            <li>Violent</li>
            <li>Social</li>
          </requiredWorkTags>
          <gearHealthRange>
            <min>2</min>
            <max>7</max>
          </gearHealthRange>
          <weaponMoney>
            <min>300</min>
            <max>1000</max>
          </weaponMoney>
          <apparelMoney>
            <min>1500</min>
            <max>3000</max>
          </apparelMoney>
          <apparelTags>
            <li>RomeCivil</li>
            <li>RomeNoble</li>
            <li>RomeBannerman</li>
            <li>RomeOfficer</li>
            <li>Legate</li>
            <li>ClassicalMilitaryClassy</li>
          </apparelTags>
          <weaponTags Inherit="False">
            <!-- <li>Aquila</li> -->
            <!-- Duplicate of the Shield Tags -->
            <li>Lance</li>
            <li>LongSword</li>
            <li>RomeOfficer</li>
            <li>Praetorian</li>
            <li>Monosword</li>
            <li>MedievalHeavy</li>
            <li>MedievalMeleeHeavy</li>
            <li>MedievalMeleeAdvanced</li>
            <li>NeolithicMeleeChief</li>
          </weaponTags>
          <apparelRequired Inherit="False">
            <li>Apparel_GaliaS</li>
            <li>Apparel_FurStandard</li>
          </apparelRequired>
          <techHediffsMoney>
            <min>200</min>
            <max>300</max>
          </techHediffsMoney>
          <techHediffsTags>
            <li>Simple</li>
            <li>ImperialCommon</li>
          </techHediffsTags>
          <techHediffsChance>0.04</techHediffsChance>
          <techHediffsRequired>
            <li>DeathAcidifier</li>
          </techHediffsRequired>
          <biocodeWeaponChance>0.9</biocodeWeaponChance>
          <disallowedTraits>
            <li>BodyPurist</li>
          </disallowedTraits>
          <specificApparelRequirements Inherit="False">
            <li>
              <bodyPartGroup MayRequire="oskarpotocki.vfe.classical">UpperHead</bodyPartGroup>
              <stuff>Gold</stuff>
            </li>
            <li>
              <bodyPartGroup MayRequire="oskarpotocki.vfe.classical">FullHead</bodyPartGroup>
              <stuff>Gold</stuff>
            </li>
            <li MayRequire="oskarpotocki.vfe.classical">
              <requiredTag MayRequire="oskarpotocki.vfe.classical">Cape</requiredTag>
              <stuff MayRequire="oskarpotocki.vfe.classical">VFEC_Tyrian</stuff>
            </li>
          </specificApparelRequirements>
          <modExtensions>
            <li Class="AR_PawnShields.ShieldPawnGeneratorProperties">
              <shieldMoney>
                <min>9999</min>
                <max>10000</max>
              </shieldMoney>
              <shieldTags>
                <li>Aquila</li>
              </shieldTags>
            </li>
          </modExtensions>
        </PawnKindDef>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
</Patch>
